{"name":"Packrat.GitHub.io","tagline":"","body":"Here is a simple example of load sharing across docker containers using nginx. First we create a very simple server using go\r\n\r\npackage main\r\n\r\nimport (\r\n\t\"fmt\"\r\n\t\"log\"\r\n\t\"net/http\"\r\n\t\"os\"\r\n)\r\n\r\nvar n int = 1\r\nvar idstr string\r\n\r\nfunc HelloServer(w http.ResponseWriter, req *http.Request) {\r\n\tfmt.Fprintf(w, \"Hello World %s %d\\n\", idstr, n)\r\n\tn = n + 1\r\n}\r\n\r\nfunc main() {\r\n\tidstr = os.Args[1]\r\n\thttp.HandleFunc(\"/hello\", HelloServer)\r\n\terr := http.ListenAndServe(\":12345\", nil)\r\n\tif err != nil {\r\n\t\tlog.Fatal(\"ListenAndServe: \", err)\r\n\t}\r\n}\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}