{"name":"Packrat.GitHub.io","tagline":"","body":"Here is a simple example of load sharing across docker containers using nginx. First we create a very simple server using go\r\n\r\npackage main\r\n\r\n`import (`\r\n\t`\"fmt\"`\r\n\t`\"log\"`\r\n\t`\"net/http\"`\r\n\t`\"os\"`\r\n`)`\r\n\r\n`var n int = 1`\r\n`var idstr string`\r\n\r\n`func HelloServer(w http.ResponseWriter, req *http.Request) {`\r\n\t`fmt.Fprintf(w, \"Hello World %s %d\\n\", idstr, n)`\r\n\t`n = n + 1`\r\n`}`\r\n\r\n`func main() {`\r\n\t`idstr = os.Args[1]`\r\n\t`http.HandleFunc(\"/hello\", HelloServer)`\r\n\t`err := http.ListenAndServe(\":12345\", nil)`\r\n\t`if err != nil {`\r\n\t\t`log.Fatal(\"ListenAndServe: \", err)`\r\n\t`}`\r\n`}`\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}